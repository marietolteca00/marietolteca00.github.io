[
  {
    "objectID": "resources.html",
    "href": "resources.html",
    "title": "Resources",
    "section": "",
    "text": "this is an h1 element\n\n\nthis is an h1 element with the title class\n\n\nthis paragraph is .rosybrown-text\n\n\nthis is centered\n\n\nthis is centered\n\n\nHere’s where I’m describing something fun that I enjoy doing.\nHere’s another line :::\n\nthis is centered"
  },
  {
    "objectID": "blog_post.html",
    "href": "blog_post.html",
    "title": "Blogger Page",
    "section": "",
    "text": "Mapping the 2025 Eaton and Palisades Wildfires in Los Angeles County\n\n\n\nPython\n\nR\n\nMEDS\n\n\n\nAn analysis of the 2025 Eaton and Palisades wildfires using Landsat satellite imagery and Environmental Justice Index data, visualizing fire perimeters, vegetation impacts…\n\n\n\nMarie Tolteca\n\n\nDec 12, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nPrioritizing Aquaculture Sites Along the West Coast\n\n\n\nQuarto\n\nR\n\nMEDS\n\n\n\nMarine Aquaculture West Coast Exclusive Economic Zones (EEZ)\n\n\n\nMarie Tolteca\n\n\nDec 11, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nEddy Covariance - Gamma Model and Simulation\n\n\n\nQuarto\n\nR\n\nMEDS\n\n\n\nEDS 222: Statistics for Environmental Data Science\n\n\n\nMarie Tolteca\n\n\nDec 10, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nFirst Blog Post!\n\n\n\nMEDS\n\nR-Data-viz\n\n\n\nA short description of this blog post.\n\n\n\nMarie Tolteca\n\n\nNov 12, 2025\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Marie Tolteca",
    "section": "",
    "text": "Changes in real time\nHi this is Marie Tolteca, a current Master’s in Environmental Data Science at Bren in the University of Santa Barbara."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "about.html#what-i-do-for-work",
    "href": "about.html#what-i-do-for-work",
    "title": "About",
    "section": "What I do for work",
    "text": "What I do for work\nThis is what i do for work…."
  },
  {
    "objectID": "about.html#what-i-do-for-fun",
    "href": "about.html#what-i-do-for-fun",
    "title": "About",
    "section": "What I do for fun",
    "text": "What I do for fun\nGive the people what they want, something fun!"
  },
  {
    "objectID": "blog_post/ca_wildfire_python/index.html",
    "href": "blog_post/ca_wildfire_python/index.html",
    "title": "Eaton and Palisades Wildfire Perimeter in Los Angeles",
    "section": "",
    "text": "Github: https://github.com/marietolteca00/eds220-hwk4.git"
  },
  {
    "objectID": "blog_post/ca_wildfire_python/index.html#repository-structure",
    "href": "blog_post/ca_wildfire_python/index.html#repository-structure",
    "title": "Eaton and Palisades Wildfire Perimeter in Los Angeles",
    "section": "Repository Structure:",
    "text": "Repository Structure:\n\nWhen downloading data, add the data folder to .gitignore to reduce pushing big files onto github.\n\n├── Chwk4-task2-false-color-TOLTECA.ipynb ├── README.md └── data ├── landsat8-2025-02-23-palisades-eaton.nc ├── Palisades_Perimeter_20250121.shp │ └── palisades_perimeter.md └── Eaton_Perimeter_20250121.shp └── eaton_perimeter.md"
  },
  {
    "objectID": "blog_post/LA_wildfire_post/testing.html",
    "href": "blog_post/LA_wildfire_post/testing.html",
    "title": "Fire Perimeter of the Palisades and Eaton wildfires in Los Angeles County",
    "section": "",
    "text": "Author: Marie Tolteca\nDate: 11/20/2025\nGithub: https://github.com/marietolteca00/eds220-hwk4.git\n\n\nPurpose\nA nc will be used for the raster (landsat) of Los Angeles County where two wildfires occured during the year 2025. The first is a simplified collection of bands (red, green, blue, near-infrared and shortwave infrared) from the Landsat Collection 2 Level-2 atmosperically adjusted surface reflectance data, obtained by the Landsat 8 satellite. Using the wildfire shapefiles project them onto the Landsat to view where the fires occured.\n\n\nAbout Data\nMicrosoft Planetary Computer, ‘https://planetarycomputer.microsoft.com/dataset/landsat-c2-l2’, is used in this notebook that outlines the fire perimeters for the Palisades and Eaton Fire. This was our data landsat data for the fire perimeters. landsat8-2025-02-23-palisades-eaton.nc\nFrom the County of Los Angeles GIS, ‘https://egis-lacounty.hub.arcgis.com/maps/ad51845ea5fb4eb483bc2a7c38b2370c/about’, was retrieved for both fire perimeters of Palisades and Eaton fire as a shapefile (shp) each were added to a folder.\n\neaton_boundary:` Layer contains a dissolved fire perimeter for the eaton fire. (01/21/2025)\npalisades_boundary: Layer contains a dissolved fire perimeter for the palisades fire. (01/21/2025)\nlandsat: This nc file contains a collection of bands (red, blue, green, near-infrared, and shortwave infrared) from the Landsat Collection 2 Level-2 atmosperically adjusted surface reflectance data, obtained by the Landsat 8 satellite. This data has been clipped to an area of Los Angeles County to include both fire perimeters.\n\n\n\nHighlights:\n\nData Exploration\nRestoring geospatial information\nTrue Color Image\nFalse color image\n\n\n\nImport Libraries\n\nimport os\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport geopandas as gpd\nimport xarray as xr\nimport rioxarray\n\n\n\nImport Data\n\n# Import landsat `nc` file\nlandsat = xr.open_dataset('data/landsat8-2025-02-23-palisades-eaton.nc')\n\n# Import states data\nfp = os.path.join('data/eaton_perimeter/Eaton_Perimeter_20250121.shp')\neaton = gpd.read_file(fp)\nfp = os.path.join('data/palisades_perimeter/Palisades_Perimeter_20250121.shp')\npalisades = gpd.read_file(fp)\n\n\n\nData Exploration\n\n# View \nlandsat.head()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.Dataset&gt; Size: 596B\nDimensions:      (y: 5, x: 5)\nCoordinates:\n  * y            (y) float64 40B 3.799e+06 3.799e+06 ... 3.799e+06 3.799e+06\n  * x            (x) float64 40B 3.344e+05 3.344e+05 ... 3.345e+05 3.345e+05\n    time         datetime64[ns] 8B ...\nData variables:\n    red          (y, x) float32 100B ...\n    green        (y, x) float32 100B ...\n    blue         (y, x) float32 100B ...\n    nir08        (y, x) float32 100B ...\n    swir22       (y, x) float32 100B ...\n    spatial_ref  int64 8B ...xarray.DatasetDimensions:y: 5x: 5Coordinates: (3)y(y)float643.799e+06 3.799e+06 ... 3.799e+06units :metreresolution :-30.0crs :EPSG:32611axis :Ylong_name :y coordinate of projectionstandard_name :projection_y_coordinatearray([3799050., 3799020., 3798990., 3798960., 3798930.])x(x)float643.344e+05 3.344e+05 ... 3.345e+05units :metreresolution :30.0crs :EPSG:32611axis :Xlong_name :x coordinate of projectionstandard_name :projection_x_coordinatearray([334410., 334440., 334470., 334500., 334530.])time()datetime64[ns]...[1 values with dtype=datetime64[ns]]Data variables: (6)red(y, x)float32...grid_mapping :spatial_ref[25 values with dtype=float32]green(y, x)float32...grid_mapping :spatial_ref[25 values with dtype=float32]blue(y, x)float32...grid_mapping :spatial_ref[25 values with dtype=float32]nir08(y, x)float32...grid_mapping :spatial_ref[25 values with dtype=float32]swir22(y, x)float32...grid_mapping :spatial_ref[25 values with dtype=float32]spatial_ref()int64...crs_wkt :PROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32611\"]]semi_major_axis :6378137.0semi_minor_axis :6356752.314245179inverse_flattening :298.257223563reference_ellipsoid_name :WGS 84longitude_of_prime_meridian :0.0prime_meridian_name :Greenwichgeographic_crs_name :WGS 84horizontal_datum_name :World Geodetic System 1984projected_crs_name :WGS 84 / UTM zone 11Ngrid_mapping_name :transverse_mercatorlatitude_of_projection_origin :0.0longitude_of_central_meridian :-117.0false_easting :500000.0false_northing :0.0scale_factor_at_central_meridian :0.9996spatial_ref :PROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32611\"]]GeoTransform :334395.0 30.0 0.0 3799065.0 0.0 -30.0[1 values with dtype=int64]Indexes: (2)yPandasIndexPandasIndex(Index([3799050.0, 3799020.0, 3798990.0, 3798960.0, 3798930.0], dtype='float64', name='y'))xPandasIndexPandasIndex(Index([334410.0, 334440.0, 334470.0, 334500.0, 334530.0], dtype='float64', name='x'))Attributes: (0)\n\n\n\nCheck CRS for Palisade Boundary\n\n# Check CRS\nprint(f\"CRS: {palisades.crs}\") # CRS = EPSG:3857\n\n# Check bounds\nprint(palisades.total_bounds)\n\n# View first five rows\npalisades.head()\n\nCRS: EPSG:3857\n[-13212082.926963     4032822.81114236 -13191297.3200706\n   4046185.03346286]\n\n\n\n\n\n\n\n\n\nOBJECTID\ntype\nShape__Are\nShape__Len\ngeometry\n\n\n\n\n0\n1\nHeat Perimeter\n1182.082031\n267.101144\nPOLYGON ((-13193543.302 4032913.077, -13193543...\n\n\n1\n2\nHeat Perimeter\n2222.488281\n185.498783\nPOLYGON ((-13193524.155 4033067.953, -13193524...\n\n\n2\n3\nHeat Perimeter\n21.011719\n22.412814\nPOLYGON ((-13193598.085 4033158.222, -13193598...\n\n\n3\n4\nHeat Perimeter\n214.992188\n76.639180\nPOLYGON ((-13193654.249 4033146.033, -13193656...\n\n\n4\n5\nHeat Perimeter\n44203.453125\n1569.259764\nPOLYGON ((-13194209.580 4033236.320, -13194209...\n\n\n\n\n\n\n\n\n\nCheck CRS for Eaton Boundary\n\n# Check CRS\nprint(f\"CRS: {eaton.crs}\") # CRS = EPSG:3857\n\n# Check bounds\nprint(eaton.total_bounds)\n\n# View first five rows\neaton.head()\n\nCRS: EPSG:3857\n[-13153741.463466     4050560.93661453 -13137152.8556185\n   4060781.94401591]\n\n\n\n\n\n\n\n\n\nOBJECTID\ntype\nShape__Are\nShape__Len\ngeometry\n\n\n\n\n0\n1\nHeat Perimeter\n2206.265625\n270.199719\nPOLYGON ((-13146936.686 4051222.067, -13146932...\n\n\n1\n2\nHeat Perimeter\n20710.207031\n839.204218\nPOLYGON ((-13150835.463 4052713.929, -13150831...\n\n\n2\n3\nHeat Perimeter\n3639.238281\n250.304502\nPOLYGON ((-13153094.697 4053057.596, -13153113...\n\n\n3\n4\nHeat Perimeter\n1464.550781\n148.106792\nPOLYGON ((-13145097.740 4053118.235, -13145100...\n\n\n4\n5\nHeat Perimeter\n4132.753906\n247.960744\nPOLYGON ((-13153131.126 4053196.882, -13153131...\n\n\n\n\n\n\n\n\nColumn names to lowercase for consistency\n\n# Lower column titles on dataframes\nfor df in [palisades, eaton]:\n    df.columns = df.columns.str.lower()\n\n\n\nView Fire Perimeter Boundary - Palisades and Eaton\n\n# View DF map\npalisades.plot()\n\n\n# Second Map\neaton.plot()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfig, ax = plt.subplots()\n\npalisades.plot(ax=ax)\neaton.plot(ax=ax, color = 'hotpink')\n\nplt.show()\n\n\n\n\n\n\n\n\n\n\nCheck if CRS’s are geographic and projected\n\nCheck Palisades\nCheck Eaton\n\n\nprint(f\"{'Is the CRS geographic for palisades?' : &lt;25} {palisades.crs.is_geographic}\")\nprint(f\"{'Is the CRS projected for palisades?' : &lt;25} {palisades.crs.is_projected}\")\n\nprint(f\"{'Is the CRS geographic for eaton?' : &lt;25} {eaton.crs.is_geographic}\")\nprint(f\"{'Is the CRS projected for eaton?' : &lt;25} {eaton.crs.is_projected}\")\n\nIs the CRS geographic for palisades? False\nIs the CRS projected for palisades? True\nIs the CRS geographic for eaton? False\nIs the CRS projected for eaton? True\n\n\n\n\nSummary of Data Exploration:\nThrough my preliminary data exploration I was able to know the bounding box for both fire perimeters (Palisades and Eaton). Both datasets have the same CRS, I also changed the name of the columns on both datasets to be lowered. I also viewed the landsat, nc file, to view the dimensions and noticed it had floats on the x and y axis, as well as a datetime series for time.\n\n\n\nRestore Geospatial Information to Landsat Data\nNetCDF files sometimes lose CRS information. Here, we extract the CRS from spatial_ref and write it to the dataset so that we can overlay shapefiles correctly.\n\n# Check CRS of Landsat\nprint(f\"CRS:, {landsat.rio.crs}\")\n\n# Extract CRS using spatial_ref variable\nwkt = landsat.spatial_ref.crs_wkt\nprint(\"\\nCRS WKT from spatial_ref:\")\nprint(wkt)\n\n# Write the CRS to the dataset - geospatial information and spatial reference\nlandsat = landsat.rio.write_crs(wkt, inplace=False)\n\n# Verify CRS is now attached\nprint(\"\\nCRS after writing:\", landsat.rio.crs)\n\nCRS:, None\n\nCRS WKT from spatial_ref:\nPROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32611\"]]\n\nCRS after writing: EPSG:32611\n\n\n\n\n\nTrue color image\n\nSelect the red, green, and blue (RGB) variables (in that order) of the xarray. Dataset holding the Landsat data.\nConvert it to a numpy.array using the to_array() method. Will give two errors, they will be fixed following that code chunk\nPlot to create an RGB image with the data to create a true color image of the area.\nHandle NaN values to prevent plotting errors caused by clouds or missing pixels.\n\n\n# Select RGB bands\nrgb = landsat[[\"red\", \"green\", \"blue\"]]\n\n# Convert to numpy.array \nrgb_array = rgb.to_array()\n\n# Plot with robust=True (handles outliers like clouds)\nrgb_array.plot.imshow()\n\nClipping input data to the valid range for imshow with RGB data ([0..1] for floats or [0..255] for integers).\n\n\n/Users/marietolteca/opt/anaconda3/envs/eds220-env/lib/python3.11/site-packages/matplotlib/cm.py:478: RuntimeWarning: invalid value encountered in cast\n  xx = (xx * 255).astype(np.uint8)\n\n\n\n\n\n\n\n\n\nThe plot is empty because there are NA values in the xarray, as well as arguments are needed such as vmax, vmin, and robust.\n\n# Identify which bands have NAN values\nnp.isnan(rgb_array).any(dim=[\"x\", \"y\"])\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (variable: 3)&gt; Size: 3B\narray([False,  True,  True])\nCoordinates:\n    time         datetime64[ns] 8B ...\n    spatial_ref  int64 8B 0\n  * variable     (variable) object 24B 'red' 'green' 'blue'xarray.DataArrayvariable: 3False True Truearray([False,  True,  True])Coordinates: (3)time()datetime64[ns]...[1 values with dtype=datetime64[ns]]spatial_ref()int640crs_wkt :PROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32611\"]]semi_major_axis :6378137.0semi_minor_axis :6356752.314245179inverse_flattening :298.257223563reference_ellipsoid_name :WGS 84longitude_of_prime_meridian :0.0prime_meridian_name :Greenwichgeographic_crs_name :WGS 84horizontal_datum_name :World Geodetic System 1984projected_crs_name :WGS 84 / UTM zone 11Ngrid_mapping_name :transverse_mercatorlatitude_of_projection_origin :0.0longitude_of_central_meridian :-117.0false_easting :500000.0false_northing :0.0scale_factor_at_central_meridian :0.9996spatial_ref :PROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32611\"]]array(0)variable(variable)object'red' 'green' 'blue'array(['red', 'green', 'blue'], dtype=object)Indexes: (1)variablePandasIndexPandasIndex(Index(['red', 'green', 'blue'], dtype='object', name='variable'))Attributes: (0)\n\n\n\n# Check `nan` values in a for-loop\nfor band in [\"red\", \"green\", \"blue\"]:\n    print(band, landsat[band].isnull().any().item())\n\nred False\ngreen True\nblue True\n\n\nFill NA Values into collection of bands Red, green, and blue. This allows for no NaN error message to be removed.\n\n#  Substitue any NAN values as 0\nlandsat_filled = landsat.fillna(0)\n\n# Add fillna() back into rgb\nrgb_filled = landsat_filled[[\"red\", \"green\", \"blue\"]].to_array()\n\n\nUse plot.imshow(robust=True) to view satellite imagery\n\n# View plot- No longer gives errors\nrgb_filled.plot.imshow(robust = True)\n\n\n\n\n\n\n\n\nThe first output, warning message were given aswell as the bands had NaN values which caused the errors as well as not accounting for cloud coverage, reflections, missing pixels, and shadows. In the second output, after replacing NaN values, the message no longer shows, the image has no missing pixels and it is clearer.\n\n\n\nFalse color image\nWithout creating any new variables, create a false color image by plotting the short-wave infrared (swir22), near-infrared, and red variables (in that order).\n\n# Use chaining method - Convert to numpy array, then plot\nlandsat[['swir22', 'nir08', 'red']].to_array().plot.imshow(robust=True)\n\n\n\n\n\n\n\n\n\n\nFinal Map\n\nProcess\n\nCreate a map showing the shortwave infrared/near-infrared/red false color image together with both fire perimeters.\nCustomize it appropriately including, at least, an informative title and legend. You may also want to include text on the map to identify which fire is which.\n\n\n# Assign numpy array to a variable\nfalse_color = landsat[[\"swir22\", \"nir08\", \"red\"]].to_array()\n\n\n\nMatch CRS\n\n# Check Landsat CRS\nprint(landsat.rio.crs)\n\nEPSG:32611\n\n\n\n# Check Eaton CRS\nprint(\"Eaton CRS:\", eaton.crs)\n\nEaton CRS: EPSG:3857\n\n\n\n# Check Palisades CRS\nprint(\"Palisades CRS:\", palisades.crs)\n\nPalisades CRS: EPSG:3857\n\n\n\n\nTransform Fire Perimeters to match landsat\n\n# Transform Fire Perimeters to match landsat\neaton = eaton.to_crs(landsat.rio.crs)\npalisades = palisades.to_crs(landsat.rio.crs)\n\n# Check transformation\nprint(\"Eaton CRS:\", eaton.crs) # EPSG:32611\nprint(\"Palisades CRS:\", palisades.crs) # EPSG:32611\n\nEaton CRS: PROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32611\"]]\nPalisades CRS: PROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32611\"]]\n\n\n\n\nCreate Map\nPlot the False-Color imagery generated along with both fire perimeters, eaton and palisades boundary, using landsat.\n\n# Set up fig, ax\nfig, ax = plt.subplots(figsize=(10,10))\n\n# Plot false-color background first\nfalse_color.plot.imshow(robust=True)\n\n# Overlay fire perimeters\neaton.boundary.plot(ax=ax, color=\"hotpink\", linewidth=2, label=\"Eaton Fire\", facecolor = \"lightpink\", alpha = 0.6)\npalisades.boundary.plot(ax=ax, color=\"red\", linewidth=2, label=\"Palisades Fire\", facecolor = \"indianred\", alpha = 0.6)\n\n\n# Add label for Eaton fire perimeter\nax.text(eaton.geometry.centroid.iloc[0].x,\n        eaton.geometry.centroid.iloc[0].y,\n        \"Eaton Fire\", color=\"black\", fontsize=10, weight=\"bold\", bbox=dict(facecolor='lightgrey', alpha=0.5, pad=5))\n\n# Add labels for Palisades fire perimeter\nax.text(palisades.geometry.centroid.iloc[0].x,\n        palisades.geometry.centroid.iloc[0].y,\n        \"Palisades Fire\", color=\"black\", fontsize=10, weight=\"bold\", bbox=dict(facecolor='lightgrey', alpha=0.5, pad=5))\n\n\n# Zoom to fire extents - This is for the bound limits\nxmin = min(eaton.total_bounds[0], palisades.total_bounds[0]) - 500\nxmax = max(eaton.total_bounds[2], palisades.total_bounds[2]) + 500\nymin = min(eaton.total_bounds[1], palisades.total_bounds[1]) - 500\nymax = max(eaton.total_bounds[3], palisades.total_bounds[3]) + 500\n\n# Set limits\nax.set_xlim(xmin, xmax)\nax.set_ylim(ymin, ymax) \n\n# Title\nax.set_title(\"SWIR-NIR-Red False Color Composite with Fire Perimeters\")\n\n# Legend\nax.legend(loc = \"upper left\")\nax.set_axis_off()\nplt.show()\n\n\n\n\n\n\n\n\nIn this figure we are able to clearly see the areas that were affected by the wildfire that happened in Los Angeles County. With the false color imagery, it uses SWIR22 for red, NIR08 for green, and the Red band for blue. Bright green areas indicate healthy vegetation, while brown or muted areas correspond to bare ground or soil. The fire-affected regions are visible within the outlined perimeters. The fire perimeter of Palisades fire (red) and Eaton fire (pink) are identified by the colored boundary and an added text for easier identification. In this figure we are able to view both landscapes in Los Angeles and the fire perimeters that most recently occured.\n\n\n\nReferences:\n\nMicrosoft Planetary Computer. Planetary Computer. (n.d.). https://planetarycomputer.microsoft.com/dataset/landsat-c2-l2\nNIFC FIRIS The source of the hosted service/dataset. https://services1.arcgis.com/jUJYIo9tSA7EHvfZ/ArcGIS/rest/services/CA_ Perimeters\nPalisades and eaton dissolved fire perimeters (2025). County Of Los Angeles Enterprise GIS. (2025, January 21). https://egis-lacounty.hub.arcgis.com/maps/ad51845ea5fb4eb483bc2a7c38b2370c/about"
  },
  {
    "objectID": "blog_post/LA_wildfire_post/index.html",
    "href": "blog_post/LA_wildfire_post/index.html",
    "title": "Mapping the 2025 Eaton and Palisades Wildfires in Los Angeles County",
    "section": "",
    "text": "Link to GitHub -&gt; GitHub\n\n\n\nEaton and Palisades Wildfire. NPR. Satellite image ©2025 Maxar Technologies (January 9, 2025)\n\n\n\nBackground\nThe Eaton and Palisades fires were two recent major wildfires that started from strong Santa Ana winds, dry vegetation from previous wet winters, and potential issues with electrical transmission lines. Both wildfires started simultaneously in Los Angeles County on January 07, 2025. These wildfires burned around 60 square miles and destroying thousands of structures and vegetation(Fritz and Park). A total of 37,000 acres burned across the Eaton and Palisades wildfires (Hoffman, et. al.,2025).\n\n\nPurpose\nA NetCDF (.nc) file containing Landsat raster data for Los Angeles County will be used, covering the areas affected by two wildfires in 2025. The file includes a simplified collection of bands: red, green, blue, near-infrared, and shortwave infrared, from Landsat Collection 2 Level-2 atmospherically corrected surface reflectance data, obtained by the Landsat 8 satellite. The Eaton and Palisades fire perimeter shapefiles will be projected onto the Landsat imagery, which will be visualized using false-color composites to highlight burned and vegetated areas. Additionally, potential social factors influencing wildfire impacts are investigated using the California Environmental Justice Index (EJI) dataset.\n\n\nAbout Data\nMicrosoft Planetary Computer, https://planetarycomputer.microsoft.com/dataset/landsat-c2-l2, is used in this notebook that outlines the fire perimeters for the Palisades and Eaton Fire. This was our data landsat data for the fire perimeters. landsat8-2025-02-23-palisades-eaton.nc\nFrom the County of Los Angeles GIS, was retrieved for both fire perimeters of Palisades and Eaton fire as a shapefile (shp) each were added to a folder.\n\neji: Is a geodatabase folder, that has rankings of geographic levels that represent comparison to all other census tracts.\neaton_boundary:` Layer contains a dissolved fire perimeter for the eaton fire. (01/21/2025)\npalisades_boundary: Layer contains a dissolved fire perimeter for the palisades fire. (01/21/2025)\nlandsat: This nc file contains a collection of bands (red, blue, green, near-infrared, and shortwave infrared) from the Landsat Collection 2 Level-2 atmosperically adjusted surface reflectance data, obtained by the Landsat 8 satellite. This data has been clipped to an area of Los Angeles County to include both fire perimeters.\n\nThis repository contains code and materials for analyzing Landsat imagery and mapping wildfire perimeters in Los Angeles County. It demonstrates how to: - Work with NetCDF (.nc) Landsat data - Create true-color (RGB) and false-color composites - Overlay geospatial data to visualize fire boundaries - Develop clear and reproducible geospatial workflows - Identify a social dimension using EJI to explore potential vulnerability patterns within fire perimeters\nThe focus is on the Eaton and Palisades Fires, combining satellite imagery with official fire perimeter shapefiles to explore fire-affected areas.\n\nHighlights:\n\nData Wrangling\nRestoring geospatial information\nFalse color imagery\nEJI Social Variable\n\n\n\nData Access\n\nThe Landsat .nc file can be downloaded from a shared Google Drive folder provided by the instructor for the course EDS 220 – Working with Environmental Datasets: https://drive.google.com/drive/folders/1USqhiMLyN8GE05B8WJmHabviJGnmAsLP\nFire perimeter shapefiles for the Palisades and Eaton fires were obtained from the County of Los Angeles GIS: County. https://egis-lacounty.hub.arcgis.com/maps/ad51845ea5fb4eb483bc2a7c38b2370c/about\nEach shapefile contains a dissolved fire perimeter for its respective fire and has been added to the data folder in this repository.\nCenters for Disease Control and Prevention and Agency for Toxic Substances Disease Registry. [2024] Environmental Justice Index. Accessed [2024, December 2]. https://atsdr.cdc.gov/place-health/php/eji/eji-data-download.html\n\n\n\nPackages Used:\nThis notebook uses the following Python packages: contextily, os, numpy, matplotlib.pyplot, matplotlib.patches, geopandas, rioxarray, and xarray.\n\n\n\nImport Libraries\n\nimport contextily as ctx\nimport os\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.patches as mpatches\nimport geopandas as gpd\nimport rioxarray\nimport xarray as xr\n\n\n\nImport data\n\n# Import Landsat `nc` file with os\nlandsat = xr.open_dataset(os.path.join('data', 'landsat8-2025-02-23-palisades-eaton.nc'))\n\n# Import fire shapefile data\nfp = os.path.join('data','eaton_perimeter','Eaton_Perimeter_20250121.shp')\neaton = gpd.read_file(fp)\nfp = os.path.join('data','palisades_perimeter','Palisades_Perimeter_20250121.shp')\npalisades = gpd.read_file(fp)\n\neji = gpd.read_file(os.path.join(\"data\",\"EJI_2024_California\",\"EJI_2024_California.gdb\"))\n\n\n\nData Exploration\n\nFire Perimeters and EJI\nLet’s go ahead and conduct some exploration analysis in our fire paramteres, Eaton and Palisades fire. The first thing I wanted to check was the Coordinate Reprojection System (CRS), the bounding box’s, and plot both shapefiles to see how they looked liked and what will have to be done when cleaning up the dataframes.\n\n# View landsat\nlandsat.head()\n\n# Check CRSs\nprint(f\"The CRS for Palisades is: {palisades.crs}\")\nprint(f\"The CRS for Eaton is: {eaton.crs}\")\nif eji.crs != eaton.crs:\n  print(\"The EJI CRS and Eaton CRS Do Not Match ! \")\n\n# Check bounds\n#print(f'The bounding box of the Palisades fire is : {palisades.total_bounds}')\n#print(f'The bounding box of the Eaton fire is: {eaton.total_bounds}')\n\n# Check if projected or geographic for fire perimeters\nprint(f\"{'Is the CRS geographic for Palisades?' : &lt;25} {palisades.crs.is_geographic}\")\nprint(f\"{'Is the CRS geographic for Eaton?' : &lt;25} {eaton.crs.is_geographic}\")\n\nprint(f\"{'Is the CRS projected for Palisades?' : &lt;25} {palisades.crs.is_projected}\")\nprint(f\"{'Is the CRS projected for Eaton?' : &lt;25} {eaton.crs.is_projected}\")\n\n\n# View DF's map\npalisades.plot()\nplt.title('Palisades Fire Perimeter')\n\neaton.plot()\nplt.title('Eaton Fire Perimeter')\n\neji.plot()\nplt.title('EJI of California')\n\nThe CRS for Palisades is: EPSG:3857\nThe CRS for Eaton is: EPSG:3857\nThe EJI CRS and Eaton CRS Do Not Match ! \nIs the CRS geographic for Palisades? False\nIs the CRS geographic for Eaton? False\nIs the CRS projected for Palisades? True\nIs the CRS projected for Eaton? True\n\n\nText(0.5, 1.0, 'EJI of California')\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFrom the data exploration analysis, all of our files have the CRS projected. The CRS for EJI is different compared to both fire perimeters. We can also visually see our the fire perimeters and EJI of California.\n\n\n\nData Wrangling\nFor both the Eaton and Palisades dataframes, all column names were converted to lowercase to ensure consistency and prevent errors when referencing columns later. The code then checks whether the datasets share the same Coordinate Reference System (CRS) and transforms the EJI layer to match the CRS of the fire perimeter datasets. After aligning the CRS, spatial joins are performed between EJI and each fire perimeter to identify overlapping features. Finally, the EJI layer is clipped to each fire perimeter boundary for specific data in each fire perimeter (Eaton and Palisades).\n\n# Lowercase column headers on both eaton and palisades dataframes\nfor df in [palisades, eaton]:\n    df.columns = df.columns.str.lower()\n\n# Match CRS\neaton.crs == palisades.crs  # False\nprint(f' The CRS for Eaton is: {eaton.crs} and the crs for palisades is: {palisades.crs}')\n\n# Transform CRS\neji = eji.to_crs(palisades.crs)\n\n\n# Check CRS match\nassert eji.crs == palisades.crs\nprint(\"The EJI CRS match with Palisades CRS, after transformation :)\")\n\n# Spatial Join    \npalisadesjoin = gpd.sjoin(eji,palisades)\neatonjoin = gpd.sjoin(eji, eaton)\n\n# Clipping \npalisades_clip = gpd.clip(eji, palisades)\neaton_clip = gpd.clip(eji, eaton)\n\n The CRS for Eaton is: EPSG:3857 and the crs for palisades is: EPSG:3857\nThe EJI CRS match with Palisades CRS, after transformation :)\n\n\n\n\nLandsat Exploration and Wrangling\nThe Landsat file is first examined using rioxarray to inspect its Coordinate Reference System (CRS). The CRS is then extracted from the spatial_ref metadata in WKT format and written back to the dataset to ensure it is explicitly defined and properly attached for subsequent geospatial analysis. Before processing, any missing values (NaN) in the Landsat bands will be filled to prevent errors, RGB and false-color composites will be created for visualization, and the Eaton and Palisades fire perimeter shapefiles will be reprojected to match the Landsat CRS. A visualization will be made to view False-Color Imagery.\n\n# Check CRS of Landsat\nprint(f\"CRS:, {landsat.rio.crs}\")\n\n# Extract CRS using spatial_ref variable\nwkt = landsat.spatial_ref.crs_wkt\nprint(\"\\nCRS WKT from spatial_ref:\")\nprint(wkt)\n\n# Write the CRS to the dataset - geospatial information and spatial reference\nlandsat = landsat.rio.write_crs(wkt, inplace=False)\n\n# Verify CRS is now attached\nprint(\"\\nCRS after writing:\", landsat.rio.crs)\n\nCRS:, None\n\nCRS WKT from spatial_ref:\nPROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32611\"]]\n\nCRS after writing: EPSG:32611\n\n\nIn the Landsat file we will fill NA Values into collection of bands Red, green, and blue. This allows for no NaN error message to be removed. We will also assign it to an array.\n\n#  Substitute any NaN values with 0\nlandsat_filled = landsat.fillna(0)\n\n# Add fillna() back into rgb\nrgb_filled = landsat_filled[[\"red\", \"green\", \"blue\"]].to_array()\n\n# Assign numpy array to a variable\nfalse_color = landsat[[\"swir22\", \"nir08\", \"red\"]].to_array()\n\nAfter confirming that the CRS is properly attached, the code fills all NaN values in the dataset with zeros to prevent errors during later processing or visualization. The filled dataset is then used to create RGB and false-color composites by selecting the appropriate spectral bands and converting them into NumPy arrays.\n\nTransform CRS from Eaton and Palisades fire to match Landsat\n\n# Transform Fire Perimeters to match landsat\neaton = eaton.to_crs(landsat.rio.crs)\npalisades = palisades.to_crs(landsat.rio.crs)\n\n# Check transformation\nassert landsat.rio.crs == eaton.crs\nassert landsat.rio.crs == palisades.crs\n\nSince, Landsat dataset will be used as the base imagery, the Eaton and Palisades fire perimeter datasets must be reprojected to match the CRS of the Landsat file. The code transforms both fire perimeter layers to the Landsat CRS and then prints their CRS values to verify that the transformation was successful.\n\n\nFalse-Color Landsat Imagery\n\nEaton and Palisades Fire Perimeters\nFalse-color imagery assigns non-visible wavelengths (like infrared) to the red, green, and blue color channels to reveal features not apparent in natural color images. This analysis uses a SWIR, NIR, and Red composite where short-wave infrared (SWIR), near-infrared (NIR), and red bands are displayed, making it particularly effective for assessing wildfire damage. In the false-color imagery composite, healthy vegetation appears bright green due to high near-infrared reflectance, while burned areas show as dark brown. The following visualization overlays the Eaton and Palisades fire perimeters on this false-color composite to assess fire extent and severity.\n\n# Set up fig, ax\nfig, ax = plt.subplots(figsize=(10,10))\n\n# Plot false-color background first\nfalse_color.plot.imshow(robust=True)\n\n# Overlay fire perimeters\neaton.boundary.plot(ax=ax, color=\"hotpink\", linewidth=2, label=\"Eaton Fire\", facecolor = \"lightpink\", alpha = 0.6)\npalisades.boundary.plot(ax=ax, color=\"red\", linewidth=2, label=\"Palisades Fire\", facecolor = \"indianred\", alpha = 0.6)\n\n# Legend Patches\npal_legend = mpatches.Patch(facecolor=\"indianred\", edgecolor=\"red\", alpha=0.6, label=\"Palisades Fire\")\neaton_legend = mpatches.Patch(facecolor=\"lightpink\", edgecolor=\"hotpink\", alpha=0.6, label=\"Eaton Fire\")\n\n# Zoom to fire extents - This is for the bound limits\nxmin = min(eaton.total_bounds[0], palisades.total_bounds[0]) - 500\nxmax = max(eaton.total_bounds[2], palisades.total_bounds[2]) + 500\nymin = min(eaton.total_bounds[1], palisades.total_bounds[1]) - 500\nymax = max(eaton.total_bounds[3], palisades.total_bounds[3]) + 500\n\n# Set limits\nax.set_xlim(xmin, xmax)\nax.set_ylim(ymin, ymax) \n\n# Title\nax.set_title(\"SWIR-NIR-Red False Color Composite with Fire Perimeters\")\n\n# Legend\nax.legend(handles=[eaton_legend, pal_legend], \n          loc=\"upper left\",\n          title=\"Fire Perimeters\",\n          # Background of legend\n          frameon=True)\nax.set_axis_off()\nplt.show()\n\n\n\n\n\n\n\n\n\n\nInterpretation\nThe false-color composite effectively reveals the wildfire impact across Los Angeles County. Bright green areas indicate healthy vegetation with high near-infrared reflectance, while dark brown areas within the fire perimeters show where vegetation has been destroyed. The Palisades Fire (red boundary) and Eaton Fire (pink boundary) extents are clearly visible, with burned areas appearing as distinctly darker patches compared to surrounding unburned landscape.\n\n\n\n\nEaton and Palisades Fire Perimeters (Basemap)\nTo better understand the spatial extent and location of the Eaton and Palisades fires relative to surrounding communities and infrastructure, we will use OpenStreeMap basemap. With the OpenStreetMap, it will overlay the fire perimeters, which provides roads, highways, and city boundaries for geographic context. The Eaton and Palisades clipped version will be used here.\n\nfig, ax = plt.subplots(1, 1, figsize=(14, 12))\n\n# Fire Perimeter- Eaton\neaton_clip.plot(ax=ax, color='orange', alpha=0.3)  # Inside\neaton_clip.plot(ax=ax, color='none', edgecolor='red', linewidth=1.5)  # Border\n\n# Fire Perimeter- Palisades\npalisades_clip.plot(ax=ax, color='blue', alpha=0.3)  # Inside\npalisades_clip.plot(ax=ax, color='none', edgecolor='darkblue', linewidth=1.5)  # Border\n\n# Legend Patches\npal_legend = mpatches.Patch(facecolor=\"blue\", edgecolor=\"darkblue\", alpha=0.3, label=\"Palisades Fire\")\neaton_legend = mpatches.Patch(facecolor=\"orange\", edgecolor=\"red\", alpha=0.3, label=\"Eaton Fire\")\n\n# Legend\nax.legend(handles=[eaton_legend, pal_legend], \n          loc=\"upper left\",\n          title=\"Fire Perimeters\",\n          # Background of legend\n          frameon=True)\n\n# Title\nax.set_title(\"2025 Eaton and Palisades Fire\")\n\n# Axes off\nax.axis('off')\n\n# Basemap\nctx.add_basemap(ax, source=ctx.providers.OpenStreetMap.Mapnik)\n\nplt.show()\n\n\n\n\n\n\n\n\n\nInterpretation\nThis map shows the Eaton and Palisades fire perimeters overlaid on an OpenStreetMap basemap, providing crucial geographic context. Compared to the earlier Landsat false-color imagery, this visualization makes it much easier to identify which specific communities, roads, and infrastructure were affected by each fire. The basemap reveals that both fires occurred in densely populated areas of Los Angeles County, with major highways and residential neighborhoods clearly visible within and adjacent to the fire boundaries. The semi-transparent fire perimeters allow viewers to see underlying street networks and topography, helping to understand how terrain and urban development may have influenced fire spread patterns.\n\n\n\nEJI Spatial Join and Clip\n\nEJI U.S. Census Tracts with Eaton and Palisades Fire Perimeters\nBefore performing any spatial analysis, the EJI census tract dataset was reprojected to match the CRS of the Eaton and Palisades fire perimeter datasets to ensure consistent spatial alignment across all layers. Although spatial joins and clipping were performed earlier, reprojection had not been performed, making this step necessary to enable valid spatial overlay operations. In this section, spatial joins are used to identify U.S. census tracts that intersect with the Eaton and Palisades fire perimeters, helping determine which communities were impacted by each fire. The EJI census tract data are then clipped to the fire perimeter boundaries to extract only the portions of tracts located within the burned areas.\n\n\nReprojection\nReproject EJI to match Palisades and Eaton CRS, before spatial join. These steps are repeated from data wrangling section since now reprojection was made in order to clip the EJI census tracts.\n\n# Reproject EJI to match Palisades CRS\nif eji.crs != palisades.crs:\n  # Transform if CRS are different\n    eji = eji.to_crs(palisades.crs)\n\nif eji.crs != eaton.crs:\n    # Transform if CRS are different\n    eji = eji.to_crs(eaton.crs)\n\n\n\nSpatial Join\nIn this section, the information in EJI will be joined with the fire perimeter of Eaton and Palisades, using intersects. A spatial join identifies ALL census tracts that have ANY overlap with the fire perimeters, even if only partially affected. This allows to view a complete list of potentially impacted communities. A visual plot will be shown to visually see the spatial joins.\n\n# Spatially join EJI and Palisades\neji_palisades = gpd.sjoin(eji,palisades,predicate=\"intersects\")\n\n\n# Spatially join EJI and Eaton\neji_eaton = gpd.sjoin(eji,eaton,predicate=\"intersects\")\n\n\n\nVisualize Eaton and Palisades (Joined EJI)\n\n# Define figure and axis dimensions\nfig, ax= plt.subplots(figsize = (10,10))\n\n# Joined with EJI\neji_palisades.plot(ax=ax, edgecolor= \"black\", facecolor= \"grey\", linewidth = 3)\n\n# Palisades Reprojected\npalisades.plot(ax=ax, edgecolor= \"hotpink\", color= \"none\", linewidth = 3)\n\n# Set title\nax.set_title(\"U.S Census Tracts Affected by Palisades Wildfire\")\n\n# Turn off axis ticks\nax.set_axis_off()\n\n\n# Show plot\nplt.show()\n\n\n\n\n\n\n\n\n\n# Define figure and axis dimensions\nfig, ax= plt.subplots(figsize = (10,10))\n\n# Joined with EJI\neji_eaton.plot(ax=ax, edgecolor= \"black\", facecolor= \"grey\", linewidth = 3)\n\n# Eaton Reprojected\neaton.plot(ax=ax, edgecolor= \"hotpink\", color= \"none\", linewidth = 3)\n\n# Set title\nax.set_title(\"U.S Census Tracts Affected by Eaton Wildfire\")\n\n# Turn off axis ticks\nax.set_axis_off()\n\n\n# Show plot\nplt.show()\n\n\n\n\n\n\n\n\nThe spatial join identified all census tracts that intersect the fires, but included areas outside the fire boundaries.\n\n\nClip EJI with Fire Perimeters\nAs shown in the spatial join visualizations above, the census tracts extend beyond the fire perimeters, meaning we’re including areas that were not actually burned. Since we’re only interested in analyzing communities directly impacted within the fire boundaries, we’ll use clipping (gpd.clip()) to extract only the portions of census tracts that fall within the fire perimeters. A visualization will be provided for both Eaton and Palisades fire perimeteres\n\n# Clip EJI onto Palisades Perimeter\neji_palisades_clip = gpd.clip(eji,palisades)\n\n\n# Clip EJI onto Palisades Perimeter\neji_eaton_clip = gpd.clip(eji,eaton)\n\n\n\nVisualize Clip of EJI and Fire Perimeters\n\n# Define figure and axis dimensions\nfig, ax= plt.subplots(figsize = (10,10))\n\n# Joined with EJI\neji_palisades_clip.plot(ax=ax, edgecolor= \"black\", facecolor= \"grey\", linewidth = 3)\n\n# Palisades Reprojected\npalisades.plot(ax=ax, edgecolor= \"hotpink\", color= \"none\", linewidth = 3)\n\n# Set title\nax.set_title(\"Clipped - U.S Census Tracts Affected by Palisades Wildfire\")\n\n# Turn off axis ticks\nax.set_axis_off()\n\n\n# Show plot\nplt.show()\n\n\n\n\n\n\n\n\n\n# Define figure and axis dimensions\nfig, ax= plt.subplots(figsize = (10,10))\n\n# Joined with EJI\neji_eaton_clip.plot(ax=ax, edgecolor= \"black\", facecolor= \"grey\", linewidth = 3)\n\n# Eaton Reprojected\neaton.plot(ax=ax, edgecolor= \"hotpink\", color= \"none\", linewidth = 3)\n\n# Set title\nax.set_title(\"Clipped - U.S Census Tracts Affected by Eaton Wildfire\")\n\n# Turn off axis ticks\nax.set_axis_off()\n\n\n# Show plot\nplt.show()\n\n\n\n\n\n\n\n\nNow that we have the clipped EJI data within fire boundaries, we can analyze specific vulnerability metrics for affected communities. I am interested in the percentile of housing units occupied by renters, as renters often face unique challenges.\n\n\n\nCommunity’s Response To A Wildfire\n\nRenter Occupancy Across Fire Perimeters\n\nEaton and Palisades\nUsing the 2024 Environmental Justice Index data for California in the geodatabase data format, EJI_2024_California, I will plot the fire perimeters of Eaton and Palisades to showcase Housing Units, Occupied by Renters. In the Palisades area it is more common for more homeowners to own homes and rent them out since it is near a beach and often added to vacation rentals. The Eaton area is located in the foothills and canyons of the San Gabriel Mountains, near the cities of Altadena and Pasadena mountain ranges.\n\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(10, 10))\n\n# Add EJI Variable - Using Metadata\neji_variable = 'E_RENTER'\n\n# Find common min/max for legend range\nvmin = min(eji_palisades_clip[eji_variable].min(), eji_palisades_clip[eji_variable].min())\nvmax = max(eji_eaton_clip[eji_variable].max(), eji_eaton_clip[eji_variable].max())\n\n# Plot census tracts within Palisades perimeter\neji_palisades_clip.plot(\ncolumn= eji_variable,\nvmin=vmin, vmax=vmax,\nlegend=False,\nax=ax1,\ncmap='viridis',\nedgecolor=\"grey\")\n\nax1.set_title('Palisades Fire')\nax1.axis('off')\n\n# Plot census tracts within Eaton perimeter\neji_eaton_clip.plot(\ncolumn=eji_variable,\nvmin=vmin, vmax=vmax,\nlegend=False,\nax=ax2,\ncmap='viridis',\nedgecolor=\"grey\")\n\nax2.set_title('Eaton Fire')\nax2.axis('off')\n\n# Add overall title\nfig.suptitle('Renter-Occupied Housing\\nPercentile within Fire Perimeters',weight='bold')\n\n\n# Add shared colorbar at the bottom\nsm = plt.cm.ScalarMappable(norm=plt.Normalize(vmin=vmin, vmax=vmax), cmap = 'viridis')\ncbar_ax = fig.add_axes([0.25, 0.08, 0.5, 0.02]) # [left, bottom, width, height]\ncbar = fig.colorbar(sm, cax=cbar_ax, orientation='horizontal')\ncbar.set_label('Percentile of Housing Units, Occupied by Renter')\nplt.show()\n\n\n\n\n\n\n\n\n\n\nInterpretation\nThe spatial distribution of renter occupied housing reveals important differences between the two fire perimeter areas. In the Palisades fire perimeter, the western coastal tract shows the highest renter occupancy at approximately the 40th percentile, meaning this area has more renters than 40% of California census tracts likely reflecting the concentration of apartments and vacation rentals near the beach. The remaining Palisades tracts show lower percentile rankings (10-25th), indicating these inland areas are predominantly owner occupied.\nThe Eaton fire perimeter displays greater variation, with some residential tracts reaching the 35-40th percentile range while large portions show minimal values corresponding to mountain terrain with little to no housing. These patterns indicate that both fires affected communities with notable renter populations, particularly in the Palisades coastal zone and Eaton’s southwestern residential areas, suggesting these populations may face heightened vulnerability to displacement during the recovery process.\n\n\n\n\nReferences\n\nAssignment 4: Palisades & Eaton Fires. EDS 220 – Working with Environmental Datasets, 2025. https://meds-eds-220.github.io/EDS-eds-220-course/assignments/assignment4-palisades-eaton-fires.html. Accessed 17 Nov. 2025.\nFritz, A., & Park, H. (2025, January 14). LA wildfires were larger and more intense due to planet-warming pollution, scientists report. CNN. https://www.cnn.com/2025/01/14/climate/los-angeles-fires-worse-global-warming/index.html\nHoffman, R., Sarnoff, L., Kekatos, M., & Mansell, W. (2025, March 7). LA fires aftermath: How people are rebuilding after losing almost everything. ABC News. https://abcnews.go.com/US/la-wildfires-aftermath-insurance-housing-rebuild-update/story?id=119209482\nMicrosoft Planetary Computer. Planetary Computer. (n.d.). https://planetarycomputer.microsoft.com/dataset/landsat-c2-l2\nNPR. Satellite image ©2025 Maxar Technologies (January 9, 2025). https://www.kpbs.org/news/national/2025/01/09/photos-see-the-california-wildfires-destructive-force-in-satellite-images\nPalisades and Eaton dissolved fire perimeters (2025). County of Los Angeles Enterprise GIS. (2025, January 21). https://egis-lacounty.hub.arcgis.com/maps/ad51845ea5fb4eb483bc2a7c38b2370c/about\nSocial dimensions of Eaton and Palisades fires. EDS 220 – Working with Environmental Datasets. https://meds-eds-220.github.io/MEDS-eds-220-course/discussion-sections/ds8-eji-eaton-palisades.html. Accessed 21 Nov. 2025.\n\n\n\n\n\nCitationBibTeX citation:@online{tolteca2025,\n  author = {Tolteca, Marie and Tolteca, Marie},\n  title = {Mapping the 2025 {Eaton} and {Palisades} {Wildfires} in {Los}\n    {Angeles} {County}},\n  date = {2025-12-12},\n  url = {https://marietolteca00.github.io/blog_post/LA_wildfire_post},\n  langid = {en}\n}\nFor attribution, please cite this work as:\nTolteca, Marie, and Marie Tolteca. 2025. “Mapping the 2025 Eaton\nand Palisades Wildfires in Los Angeles County.” December 12,\n2025. https://marietolteca00.github.io/blog_post/LA_wildfire_post."
  },
  {
    "objectID": "blog_post/LA_wildfire_post/index.html#repository-structure",
    "href": "blog_post/LA_wildfire_post/index.html#repository-structure",
    "title": "Mapping the 2025 Eaton and Palisades Wildfires in Los Angeles County",
    "section": "Repository Structure:",
    "text": "Repository Structure:\n\nWhen downloading data, add the data folder to .gitignore to reduce pushing big files onto github.\n\n├── data\n│   ├── eaton_perimeter\n│   │  └── Eaton_Perimeter_20250121.shp\n│   ├── EJI_2024_California\n│   │   ├── EJI_2024_California.gdb\n│   │   ├── EJI_DATADICTIONARY_2024.csv\n│   │   └── EJI_DATADICTIONARY_2024.xlsx\n│   ├── landsat8-2025-02-23-palisades-eaton.nc\n│   └── palisades_perimeter\n│       └── Palisades_Perimeter_20250121.shp\n└── satellite_image.jpeg"
  },
  {
    "objectID": "blog_post/first_blog_post/index.html",
    "href": "blog_post/first_blog_post/index.html",
    "title": "First Blog Post!",
    "section": "",
    "text": "This is where the body of my blog post begins! I’m going to add a footnote here 1. Here’s an inline footnote[here’s my inline note].\nI’m going to be vain for a second and cite myself(Tolteca 2021)\nLet’s cite a paper using it’s DO(Gaynor et al. 2022) -in visual mode, click insert, DOI, insert DOI link, will automatically create citation and add to `references.bib` file"
  },
  {
    "objectID": "blog_post/first_blog_post/index.html#footnotes",
    "href": "blog_post/first_blog_post/index.html#footnotes",
    "title": "First Blog Post!",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nHere is some additional context that might be helpful.↩︎"
  },
  {
    "objectID": "blog_post/eddy_co_blog_stats_222/index.html",
    "href": "blog_post/eddy_co_blog_stats_222/index.html",
    "title": "Eddy Covariance - Gamma Model and Simulation",
    "section": "",
    "text": "Code\nknitr::include_graphics(here::here(\"blog_post\",\"eddy_co_blog_stats_222\",\"image\",\"eddy.png\"))\n\n\n\n\n\n\n\n\n\nEddy Covariance with solar panel set-up in Soledad, California in a Broccoli Field. Credit: Marie Tolteca."
  },
  {
    "objectID": "blog_post/prioritizing_west_coast_aquaculture_sites/index.html",
    "href": "blog_post/prioritizing_west_coast_aquaculture_sites/index.html",
    "title": "Prioritizing Aquaculture Sites Along the West Coast",
    "section": "",
    "text": "There is a growing global need to sustainably feed expanding human populations, and one promising solution is marine aquaculture1. Aquaculture involves the organized cultivation, feeding, propagation, and production of aquatic organisms for commercial, recreational, or public use. The industry can support food security while contributing to conservation and economic development. Globally, Gentry et al, found environmental and logistical constraints, such as seafloor depth, dissolved oxygen, and ship traffic limit the area suitable for marine aquaculture to less than 0.015% of the world’s oceans. This highlights the importance of carefully identifying viable locations.\nAlong the U.S. West Coast, aquaculture includes diverse systems and species, from shellfish to finfish, each with unique environmental requirements. As research has shown, oysters represent one of the most commercially significant mollusk species, thriving at depths of 0–70 meters and sea surface temperatures (SSTs) between 11–30°C. Another species of personal interest in this analysis, the California sea hare (Aplysia californica), occurs at depths of 0–22 meters and SSTs of 13.4–27.1°C, making it a candidate for evaluation using similar environmental criteria. Understanding where the suitable ranges of these species overlap within Exclusive Economic Zones (EEZs) is critical for identifying areas where aquaculture can be both sustainable and commercially feasible.\nThis project examines West Coast EEZs to identify suitable locations for oysters and other species, using SST rasters from 2008-2012, bathymetry data, and EEZ boundaries. The analysis employs raster and vector methods, including resampling, masking, and map algebra, and develops a reusable function to map suitability by species. My personal statement is to understand how environmental constraints shape aquaculture opportunities and to create a spatial workflow that can guide sustainable and commercially feasible marine farming along the West Coast.\n\n\nAll data can be downloaded via this google drive, provided by Ruth Oliver on EDS 223- Homework Assignment 4- Prioritizing potential aquaculture: https://drive.google.com/file/d/1u-iwnPDbe6ZK7wSFVMI-PpCKaRQ3RVmg/view?usp=sharing\nData Source: Historical sea surface temperature (SST) rasters, bathymetry data, and West Coast EEZ shapefiles to identify suitable habitat for marine species aquaculture.\n\n\n\n\nNational Environmental Satellite Data, and Information Service. Coral Reef Watch. NOAA’s 5km Daily Global Satellite Sea Surface Temperature Anomaly v3.1, Data Files, SST rasters: https://coralreefwatch.noaa.gov/product/5km/index_5km_ssta.php avg_08, avg_09, avg_10, avg_11, avg_12\n\n\n\n\n\nGeneral Bathymetric Chart of the Oceans (GEBCO).Depth raster,depth.tif. https://www.gebco.net/data-products/gridded-bathymetry-data#area\n\n\n\n\n\nMaritime boundaries using EEZ polygons off the west coast of the US. wc_regions_clean.shp. https://www.marineregions.org/eez.php\n\n\n\n\n\nFind information on species depth and temperature requirements from SeaLife Base for marine aquaculture, a reasonable potential for commercial consumption. https://www.sealifebase.ca/search.php"
  },
  {
    "objectID": "blog_post/prioritizing_west_coast_aquaculture_sites/index.html#rasterize-masking-cellsize-and-zonal",
    "href": "blog_post/prioritizing_west_coast_aquaculture_sites/index.html#rasterize-masking-cellsize-and-zonal",
    "title": "Prioritizing Aquaculture Sites Along the West Coast",
    "section": "Rasterize, Masking, CellSize, and Zonal",
    "text": "Rasterize, Masking, CellSize, and Zonal\nWe want to determine the total suitable area within each EEZ in order to rank zones by priority. To do so, we need to find the total area of suitable locations within each EEZ. This will be completed by select suitable cells within West Coast EEZs find area of grid cells and find the total suitable area within each EEZ.\n\n\nCode\neez_rast &lt;- rasterize(regions, \n                 # template- using extent, resolution, crs\n                 suitable, \n                 # use region column\n                 field = \"rgn\")\n\n\n# Mask\nsuitable_mask &lt;- mask(suitable,regions)\n\n# Cell size\ncell_area &lt;- cellSize(suitable_mask, unit = \"km\")\n\n# Sum suitable area by EEZ\narea_by_eez_zonal &lt;- zonal(cell_area * suitable_mask, eez_rast, fun = \"sum\", na.rm = TRUE) %&gt;% \n  rename(\"suitable_area_km2\" = area) %&gt;% \n  mutate(suitable_area_km2 = as.numeric(suitable_area_km2)) %&gt;% \n  as_tibble() %&gt;% \n  arrange(desc(suitable_area_km2))\n\n\narea_by_eez_zonal %&gt;%\n  mutate(suitable_area_km2 = round(suitable_area_km2, 2)) %&gt;% \n  kbl(\n    caption = \"Suitable Area by EEZ (km²)\",\n    col.names = c(\"EEZ Region\", \"Suitable Area (km²)\")\n  ) %&gt;%\n  kable_classic(full_width = FALSE, html_font = \"Arial\")\n\n\n\nSuitable Area by EEZ (km²)\n\n\nEEZ Region\nSuitable Area (km²)\n\n\n\n\nCentral California\n4069.88\n\n\nSouthern California\n3757.28\n\n\nWashington\n2378.31\n\n\nOregon\n1074.27\n\n\nNorthern California\n178.03\n\n\n\n\n\nIn this table we can now see the suitable area covered by each EEZ region for Oysters. Let’s go ahead and see view this in a map to visually see our results."
  },
  {
    "objectID": "blog_post/prioritizing_west_coast_aquaculture_sites/index.html#data-access",
    "href": "blog_post/prioritizing_west_coast_aquaculture_sites/index.html#data-access",
    "title": "Prioritizing Aquaculture Sites Along the West Coast",
    "section": "",
    "text": "All data can be downloaded via this google drive, provided by Ruth Oliver on EDS 223- Homework Assignment 4- Prioritizing potential aquaculture: https://drive.google.com/file/d/1u-iwnPDbe6ZK7wSFVMI-PpCKaRQ3RVmg/view?usp=sharing\nData Source: Historical sea surface temperature (SST) rasters, bathymetry data, and West Coast EEZ shapefiles to identify suitable habitat for marine species aquaculture.\n\n\n\nNational Environmental Satellite Data, and Information Service. Coral Reef Watch. NOAA’s 5km Daily Global Satellite Sea Surface Temperature Anomaly v3.1, Data Files, SST rasters: https://coralreefwatch.noaa.gov/product/5km/index_5km_ssta.php avg_08, avg_09, avg_10, avg_11, avg_12\n\n\n\n\n\nGeneral Bathymetric Chart of the Oceans (GEBCO).Depth raster:depth depth.tif\n\n\n\n\n\nMaritime boundaries using EEZ polygons off the west coast of the US. regions: wc_regions_clean.shp.\n\n\n\n\n\nFind information on species depth and temperature requirements from SeaLife Base for marine aquaculture, a reasonable potential for commerical consumption. SeaLifeBase"
  },
  {
    "objectID": "blog_post/prioritizing_west_coast_aquaculture_sites/index.html#reprository-structure",
    "href": "blog_post/prioritizing_west_coast_aquaculture_sites/index.html#reprository-structure",
    "title": "Prioritizing Aquaculture Sites Along the West Coast",
    "section": "",
    "text": "├── data\n│   ├── average_annual_sst_2008.tif\n│   ├── average_annual_sst_2009.tif\n│   ├── average_annual_sst_2010.tif\n│   ├── average_annual_sst_2011.tif\n│   ├── average_annual_sst_2012.tif\n│   ├── depth.tif\n│   └── wc_regions_clean.shp\n├── Marine-Aquaculture-West-Coast-EEZ-for-Oysters.Rproj\n├── aquaculture-wc-eez.qmd\n└── README.md"
  },
  {
    "objectID": "blog_post/eddy_co_blog_stats_222/index.html#import-libraries",
    "href": "blog_post/eddy_co_blog_stats_222/index.html#import-libraries",
    "title": "Eddy Covariance - Gamma Model and Simulation",
    "section": "Import Libraries",
    "text": "Import Libraries\n\n\nCode\nlibrary(tidyverse)\nlibrary(here)\nlibrary(dplyr)\nlibrary(patchwork)\nlibrary(knitr)\nlibrary(lubridate)\nlibrary(purrr)\nlibrary(broom)\nlibrary(knitr)\nset.seed(42)"
  },
  {
    "objectID": "blog_post/eddy_co_blog_stats_222/index.html#fit-gamma-model",
    "href": "blog_post/eddy_co_blog_stats_222/index.html#fit-gamma-model",
    "title": "Eddy Covariance - Gamma Model and Simulation",
    "section": "Fit Gamma Model",
    "text": "Fit Gamma Model\nI fit a Gamma generalized linear model (GLM) with a log link. The log link ensures that all predicted ETo values remain positive, and the Gamma distribution is appropriate for modeling continuous measurements that vary proportionally with their mean. In this model, daily ETo is modeled as a function of daily precipitation (inches) and average air temperature (Farenheit). Before fitting the model, I added a very small constant to ETo (1e-6) to avoid any issues with zeros, since the Gamma distribution requires strictly positive values.\n\n\nCode\n# This will remove any negative integers\ndaily_eto &lt;- daily_eto %&gt;%\n  # e_to_in is used since we are grabbing daily numbers\n  mutate(e_to_in_adj = e_to_in + 1e-6)\n\n\n# Gamma regression for daily ETo\ncam_gamma &lt;- glm(\n  # Response ~ Predictor + Predictor\n  e_to_in_adj ~ precip_in + avg_air_temp_f,\n  data = daily_eto,\n  family = Gamma(link = \"log\"))\n\n\n# Look at results\n#summary(cam_gamma)\n\n# equation\ncam_gamma$formula\n\n\ne_to_in_adj ~ precip_in + avg_air_temp_f\n\n\nCode\n# Extract coefficients\nB0 &lt;- cam_gamma$coef[1]\nB1 &lt;- cam_gamma$coef[2]\nB2 &lt;- cam_gamma$coef[3]\n\n# Using Kable and Broom Packages to display GLM Model Coefficients\ntidy(cam_gamma) %&gt;%\n  kable(digits = 3, caption = \"Coefficient Estimates\")\n\n\n\nCoefficient Estimates\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\n\n\n\n\n(Intercept)\n-4.826\n0.177\n-27.286\n0\n\n\nprecip_in\n-1.495\n0.168\n-8.920\n0\n\n\navg_air_temp_f\n0.046\n0.003\n16.086\n0\n\n\n\n\n\nβ0 = -4.83 (β₀): The expected e_to_in_adj (ETo) when precipitation (in) and temperature (F) are equal to 0.\nβ1 = -1.5 (β₁): For every 1-inch increase in precipitation, ETo will decrease, holding temperature constant.\nβ2 = 0.05 (β₂): For each 1 (F) increase in mean air temperature, ETo tends to increase, holding precipitation constant.\nAll three coefficients hold a p-value of &lt;2e-16, this implied that all three constants are different from zero. Both predictors have a strong effect on ETo. With more rain, the lower the ETo. With higher temperature the more ETo.\n\nPrediction Grid and Expand Grid\nTo visualize how the Gamma GLM predicts ETo across the full range of observed precipitation and air temperature values, I generated a prediction grid using the sequence of precipitation and temperature within their observed ranges. The fitted Gamma model was then used to compute predicted ETo (phi) for each point in the grid.\n\n\nCode\n# A grid of predictors to generate predictions for \npred_grid &lt;- expand.grid(\n  precip_in = seq(min(daily_eto$precip_in), max(daily_eto$precip_in), \n                  length.out = 50),\n  avg_air_temp_f = seq(min(daily_eto$avg_air_temp_f), max(daily_eto$avg_air_temp_f), \n                       length.out = 50))\n\n# Generating our predictions\neto_pred &lt;- pred_grid %&gt;%\n  mutate(phi = predict(cam_gamma, \n                          newdata = pred_grid, \n                          type = \"response\"))\n\n# Plot 1\nplot1 &lt;- ggplot(eto_pred, aes(x = precip_in, y = avg_air_temp_f)) +\n  geom_raster(aes(fill = phi)) +\n  geom_contour(aes(z = phi), color = \"white\", alpha = 0.6) +\n  # Scale - color fill\n  scale_fill_viridis_c(option = \"rainbow\") +\n  labs(\n    #title = \"Predicted Evapotranspiration\",\n    #subtitle = \"Gamma Model Log Link\",\n    x = \"Precipitation (in)\",\n    y = \"Average Air Temperature (°F) \",\n    fill = \"Predicted\\nETo\"\n  ) +\n  theme_light()\n\n# Viewing Plots\n(plot1)\n\n\n\n\n\n\n\n\n\nInterp: The contour plot (top plot) shows that predicted ETo increases with higher temperatures and decreases as precipitation increases.\n\n\nIntegrating Confidence Intervals\nTo visualize the confidence intervals, I calculated 95% confidence intervals for predicted ETo across a range of precipitation values at selected temperature levels (50°F, 60°F, 70°F, and 80°F). A prediction grid was created at these temperature levels, and predicted values along with their standard errors were obtained on the link (log) scale. Confidence limits were constructed on the link scale and then transformed back to the response scale using the inverse link function. The resulting curves and shaded ribbons illustrate how predicted ETo varies with precipitation while showing the uncertainty associated with each temperature level.\n\n\nCode\n# Selected temperature levels for better visualization\ntemp_levels &lt;- c(50, 60, 70, 80)\n\n# Expand grid\npred_grid1 &lt;- expand.grid(\n  # Grab sequence of precipitation\n  precip_in = seq(min(daily_eto$precip_in), max(daily_eto$precip_in), length.out = 50),\n  # Use selected levels\n  avg_air_temp_f = temp_levels)\n\n# Prediction for Standard Error- This will be used for CI\neto_se &lt;- predict(\n  object = cam_gamma,\n  newdata = pred_grid1,\n  type = \"link\",\n  se.fit = TRUE)\n\n# Inverse link function (exp for log link)\nlinkinv &lt;- family(cam_gamma)$linkinv\n\n# Prediction Grid for CI bounds\neto_pred &lt;- pred_grid1 %&gt;%\n  mutate(\n    logit_p    = eto_se$fit,\n    logit_p_se = eto_se$se.fit,\n    \n    # 95% CI on link scale\n    logit_p_lwr = qnorm(0.025, mean = logit_p, sd = logit_p_se),\n    logit_p_upr = qnorm(0.975, mean = logit_p, sd = logit_p_se),\n    \n    # Inverse to original scale: Creates Ribbons\n    phi       = linkinv(logit_p),\n    phi_lwr   = linkinv(logit_p_lwr),\n    phi_upr   = linkinv(logit_p_upr))\n\n# Plot with CI\nplot3&lt;- ggplot(eto_pred, aes(x = precip_in, y = phi, group = factor(avg_air_temp_f))) +\n  # Ribbon per temperature level\n  geom_ribbon(aes(ymin = phi_lwr, ymax = phi_upr, fill = factor(avg_air_temp_f)),\n              alpha = 0.2, color = NA) +\n  # Line per temperature level\n  geom_line(aes(color = factor(avg_air_temp_f)), size = 1) +\n  # Discrete color/fill scale\n  scale_fill_viridis_d(option = \"rainbow\", name = \"Air Temp (°F)\") +\n  scale_color_viridis_d(option = \"rainbow\", name = \"Air Temp (°F)\") +\n  labs(\n    x = \"Precipitation (in)\",\n    y = \"Predicted ETo (in)\") +\n  theme_light()\n\nplot3\n\n\n\n\n\n\n\n\n\nCode\n# View Plots Together\n(plot1 / plot3)\n\n\n\n\n\n\n\n\n\nInterp: Plot 3 shows the relationship between expected daily evapotranspiration (ETo) and precipitation at various air temperature levels. Wetter days are associated with decreased atmospheric demand for water loss because ETo drops as precipitation increases across all temperatures. At any given precipitation level, higher air temperatures are associated with higher ETo because warmer air increases evaporative demand. When both temperature is low and precipitation is high, predicted ETo is lowest. The 95% confidence intervals for the model’s predictions are shown by the shaded ribbons. They display the range of anticipated ETo values for every temperature and precipitation combination that would result from repeatedly gathering new data and refitting the same model. Narrower ribbons indicate higher certainty in the predicted mean ETo, while wider ribbons indicate greater uncertainty.\nLastly, I combined the plots together to provide a clear view of how ETo varies with precipitation and temperature. The main takeaway is when temperature increases drier days which hold and remove more water. When temperature decreases, minimal ETo is produced. This could be because of an increase in humidity, cloud cover, and rain events on cooler days."
  },
  {
    "objectID": "blog_post/prioritizing_west_coast_aquaculture_sites/index.html#footnotes",
    "href": "blog_post/prioritizing_west_coast_aquaculture_sites/index.html#footnotes",
    "title": "Prioritizing Aquaculture Sites Along the West Coast",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nhttps://www.nature.com/articles/s41559-017-0257-9↩︎\nhttps://www.sealifebase.ca/summary/Aplysia-californica↩︎\nhttps://www.sealifebase.ca/summary/Panulirus-interruptus↩︎"
  }
]